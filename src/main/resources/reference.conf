# sss-events default configuration
# This file provides default values. Override in your application.conf.

sss-events {
  engine {
    # Number of threads in the scheduler thread pool
    scheduler-pool-size = 2

    # Thread-to-dispatcher assignment configuration
    # Array length determines number of threads created
    # Each element is an array of dispatcher names for that thread to work on
    #
    # Example: Single thread working on default dispatcher (backward compatible)
    # thread-dispatcher-assignment = [
    #   [""]
    # ]
    #
    # Example: Multiple threads with different assignments
    # thread-dispatcher-assignment = [
    #   ["api", "realtime"],  # Thread 0 handles api and realtime
    #   ["api"],              # Thread 1 handles api only
    #   ["batch"]             # Thread 2 handles batch only
    # ]
    thread-dispatcher-assignment = [
      [""]  # Default: single thread on unnamed dispatcher
    ]

    # Exponential backoff configuration for lock contention
    backoff {
      # Initial delay when all locks fail (microseconds)
      # 10 microseconds = very responsive
      base-delay-micros = 10

      # Multiplier for exponential growth
      # 1.5 = gradual increase (10μs → 15μs → 22μs → 33μs...)
      multiplier = 1.5

      # Maximum delay cap (microseconds)
      # 10000 microseconds = 10 milliseconds
      max-delay-micros = 10000
    }
  }
}
